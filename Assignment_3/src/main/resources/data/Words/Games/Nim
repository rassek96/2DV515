nim from wikipedia free encyclopedia jump navigation search for other uses see nim disambiguation mine rack used play nim with heaps size three five seven nim mathematical game strategy which two players take turns removing objects from distinct heaps on each turn player must remove at least one object may remove any number objects provided they all come from same heap goal game be player remove last object variants nim have been played since ancient times game said have originated china—it closely resembles chinese game tsyan-shizi picking stones—but origin uncertain earliest european references nim are from beginning 16th century its current name was coined by charles l bouton harvard university who also developed complete theory game but origins name were never fully explained name probably derived from german nimm meaning take obsolete english verb nim same meaning nim can be played misère game which player take last object loses nim can also be played normal play game which means that person who makes last move ie who takes last object wins this called normal play because most games follow this convention even though nim usually does not normal play nim more precisely system nimbers fundamental sprague–grundy theorem which essentially says that normal play every impartial game equivalent nim heap that yields same outcome when played parallel with other normal play impartial games see disjunctive sum while all normal play impartial games can be assigned nim value that not case under misère convention only tame games can be played using same strategy misère nim nim special case poset game where poset consists disjoint chains heaps at new york world's fair westinghouse displayed machine nimatron that played nim was also one first ever electronic computerized games ferranti built nim playing computer which was displayed at festival britain herbert koppel eugene grant howard bailer engineers from w l maxon corporation developed machine weighing pounds which played nim against human opponent regularly won nim playing machine has been described made from tinkertoy game nim was subject martin gardner's february mathematical games column scientific american version nim played—and has symbolic importance—in french new wave film last year at marienbad contents game play illustration winning positions mathematical theory proof winning formula variations o dividing natural number o subtraction game s1 k o game o game o multiple-heap rule o circular nim o grundy's game o greedy nim o index-k nim o building nim see also references additional reading external links game play illustration normal game between two players played with three heaps any number objects two players alternate taking any number objects from any single one heaps goal be last take object misère play goal instead ensure that opponent forced take last remaining object following example game played between fictional players bob alice who start with heaps three four five objects sizes heaps moves b c bob takes from alice takes from c bob takes from b alice takes from b bob takes entire heap leaving two 2s alice takes from b bob takes from c leaving two 1s misère play he would take from c leaving alice takes from b bob takes entire c heap wins winning positions practical strategy win at game nim for player get other into one following positions every successive turn afterwards they should be able make one lower positions only last move changes between misere normal play heaps heaps heaps n n n n n n m m n n n n only valid for normal play only valid for misere for generalisations n m can be any value > they may be same mathematical theory nim has been mathematically solved for any number initial heaps objects there easily calculated way determine which player will win what winning moves are open that player game that starts with heaps three four five first player will win with optimal play whether misère normal play convention followed key theory game binary digital sum heap sizes that sum binary neglecting all carries from one digit another this operation also known exclusive xor vector addition over gf2 within combinatorial game theory usually called nim-sum will be called here nim-sum x y written x ⊕ y distinguish from ordinary sum x + y example calculation with heaps size follows binary decimal heap heap b heap c --- nim-sum heaps b c ⊕ ⊕ = equivalent procedure which often easier perform mentally express heap sizes sums distinct powers cancel pairs equal powers then add what's left = + + = heap = + + = heap b = + + = heap c --- = what's left after canceling 1s 4s normal play winning strategy finish every move with nim-sum this always possible if nim-sum not zero before move if nim-sum zero then next player will lose if other player does not make mistake find out which move make let x be nim-sum all heap sizes find heap where nim-sum x heap-size less than heap-size - winning strategy play such heap reducing that heap nim-sum its original size with x example above taking nim-sum sizes x = ⊕ ⊕ = nim-sums heap sizes a=3 b=4 c=5 with x=2 are ⊕ x = ⊕ = b ⊕ x = ⊕ = c ⊕ x = ⊕ = only heap that reduced heap so winning move reduce size heap by removing two objects particular simple case if there are only two heaps left strategy reduce number objects bigger heap make heaps equal after that no matter what move your opponent makes you can make same move on other heap guaranteeing that you take last object when played misère game nim strategy different only when normal play move would leave no heap size two larger that case correct move leave odd number heaps size one normal play correct move would be leave even number such heaps misère game with heaps sizes three four five strategy would be applied like this b c nim-sum 0102=210 i take from leaving sum so i will win 0002=010 you take from c 1102=610 i take from b 0002=010 you take from c 0012=110 i take from 0002=010 you take from c 0112=310 normal play strategy would be take from b leaving even number heaps size for misère play i take entire b heap leave odd number heaps size 0012=110 you take from c lose previous strategy for misère game can be easily implemented for example python below def nimheaps misere=true computes next move for nim normal misère default game returns tuple chosenheap nbremove x = reducelambda xy x^y heaps if x == will lose unless all non-empty heaps have size one if maxheaps > print you will lose for i heap enumerateheaps if heap > empty any non-empty heap chosenheap nbremove = i heap break else sums = if heapsone%2=misere else heaps return chosenheap nbremove proof winning formula soundness optimal strategy described above was demonstrated by c bouton theorem normal nim game player making first move has winning strategy if only if nim-sum sizes heaps nonzero otherwise second player has winning strategy proof notice that nim-sum ⊕ obeys usual associative commutative laws addition + also satisfies additional property x ⊕ x = technically speaking that nonnegative integers under ⊕ form abelian group exponent let x1 xn be sizes heaps before move y1 yn corresponding sizes after move let s = x1 ⊕ ⊕ xn t = y1 ⊕ ⊕ yn if move was heap k we have xi = yi for all i ≠ k xk > yk by properties ⊕ mentioned above we have t = ⊕ t = s ⊕ s ⊕ t = s ⊕ x1 ⊕ ⊕ xn ⊕ y1 ⊕ ⊕ yn = s ⊕ x1 ⊕ y1 ⊕ ⊕ xn ⊕ yn = s ⊕ ⊕ ⊕ ⊕ xk ⊕ yk ⊕ ⊕ ⊕ = s ⊕ xk ⊕ yk t = s ⊕ xk ⊕ yk theorem follows by induction on length game from these two lemmas lemma if s = then t ≠ no matter what move made proof if there no possible move then lemma vacuously true first player loses normal play game by definition otherwise any move heap k will produce t = xk ⊕ yk from this number nonzero since xk ≠ yk lemma if s ≠ possible make move so that t = proof let d be position leftmost most significant nonzero bit binary representation s choose k such that dth bit x k also nonzero such k must exist since otherwise dth bit s would be then letting yk = s ⊕ xk we claim that yk interactive subtraction game players take turns removing objects from initial pool objects player taking last object wins another game which commonly known nim but better called subtraction game s 12k upper bound imposed on number objects that can be removed turn instead removing arbitrarily many objects player can only remove k at time this game commonly played practice with only one heap for instance with k = game thai on survivor thailand where appeared immunity challenge bouton's analysis carries over easily general multiple-heap version this game only difference that first step before computing nim-sums we must reduce sizes heaps modulo k + if this makes all heaps size zero misère play winning move take k objects from one heaps particular ideal play from single heap n objects second player can win if only if n ≡ mod k + normal play n ≡ mod k + misère play this follows from calculating nim-sequence s12k … k … k ⋯ = ˙ … k ˙ {\displaystyle 0123\ldots k0123\ldots k0123\dots ={\dot {0}}123\ldots {\dot {k}}\} from which strategy above follows by sprague–grundy theorem game game played misère game with any number players who take turns saying number first player says each player turn increases number by but may not exceed player forced say loses this can be modeled subtraction game with heap 21–n objects winning strategy for two-player version this game always say multiple then guaranteed that other player will ultimately have say – so standard version where first player opens with they start with losing move game can also be played with different numbers like add at most lose on sample game which second player follows winning strategy player number game similar version game two players start from alternatively add number from sum player who reaches wins winning strategy reach number which digits are subsequent eg control game by jumping through all numbers this sequence once reached opponent has lost he can only tell numbers from next answer can any case be multiple-heap rule see also wythoff's game another variation nim besides removing any number objects from single heap one permitted remove same number objects from each heap circular nim see also kayles yet another variation nim 'circular nim' where any number objects are placed circle two players alternately remove one two three adjacent objects for example starting with circle ten objects three objects are taken first move then another three then one but then three objects cannot be taken out one move grundy's game grundy's game another variation nim number objects are placed initial heap two players alternately divide heap into two nonempty heaps different sizes thus six objects may be divided into piles 5+1 4+2 but not 3+3 grundy's game can be played either misère normal play greedy nim greedy nim variation where players are restricted choosing stones from only largest pile finite impartial game greedy nim misère has same rules greedy nim but here last player able make move loses let largest number stones pile be m second largest number stones pile be n let pm be number piles having m stones p n be number piles having n stones then there theorem that game positions with pm even are p positions this theorem can be shown by considering positions where pm odd if pm larger than all stones may be removed from this pile reduce pm by new pm will be even if pm = ie largest heap unique there are two cases if pn odd size largest heap reduced n so now new pm even if pn even largest heap removed entirely leaving even number largest heaps thus there exists move state where pm even conversely if pm even if any move possible pm ≠ then must take game state where pm odd final position game even pm = hence each position game with pm even must be p position index-k nim generalization multi-heap nim was called nim k {\displaystyle {}{k}} index-k nim by e h moore who analyzed index-k nim instead removing objects from only one heap players can remove objects from at least one but up k different heaps number elements that may be removed from each heap may be either arbitrary limited at most r elements like subtraction game above winning strategy follows like ordinary multi-heap nim one considers binary representation heap sizes heap sizes modulo r + ordinary nim one forms xor-sum sum modulo each binary digit winning strategy make each xor sum zero generalization index-k nim one forms sum each binary digit modulo k + again winning strategy move such that this sum zero for every digit indeed value thus computed zero for final position given configuration heaps for which this value zero any change at most k heaps will make value non-zero conversely given configuration with non-zero value one can always take from at most k heaps carefully chosen so that value will become zero building nim building nim variant nim where two players first construct game nim given n stones s empty piles players alternate turns placing exactly one stone into pile their choice once all stones are placed game nim begins starting with next player that would move this game denoted bnns see also dr nim fibonacci nim fuzzy game nimber nimrod computing octal games star game theory subtract square zero game android nim raymond redheffer last year at marienbad notakto references jorgensen anker helms context driving forces development early computer game nimbi ieee annals history computing 44–53 doi 101109/mahc200941 mr two-person mathematical game nim which many believe originated china probably one oldest games world yaglom i m two games with matchsticks tabachnikov serge kvant selecta combinatorics i volume mathematical world american mathematical society pp 1–8 isbn bouton c l 1901–1902 nim game with complete mathematical theory annals mathematics 35–39 doi 102307/1967631 morrissette attributes this theory bushaw d w october on name history nim washington mathematics 52–55 flesch rudolf art clear thinking new york harper brothers publishers p grant eugene f lardner rex august talk town – new yorker cohen harvey how construct nim playing machine pdf morrissette bruce games game structures robbe-grillet yale french studies 159–167 doi 102307/2929672 morrissette writes that alain robbe-grillet one screenwriters for film thought he had invented game --- winning ways for your mathematical plays vols 2nd ed k peters ltd vol isbn 1-56881-130-6 vol isbn 1-56881-142-x vol isbn 1-56881-143-8 vol isbn 1-56881-144-6 m h albert r j nowakowski nim restrictions pdf integers electronic journal combinatorial number theory 4g01 g01 moore e h generalization game called nim annals mathematics pp 93–94 larsson urban heubach silvia dufour matthieu duchêne eric building nim arxiv150204068 additional reading w w rouse ball mathematical recreations essays macmillan company john d beasley mathematics games oxford university press elwyn r berlekamp john h conway richard k guy winning ways for your mathematical plays academic press inc manfred eigen ruthild winkler laws game princeton university press walter r fuchs computers information theory cybernetics rupert hart-davis educational publications g h hardy e m wright introduction theory numbers oxford university press edward kasner james newman mathematics imagination simon schuster m kaitchik mathematical recreations w w norton donal d spencer game playing with computers hayden book company inc external links wikimedia commons has media related nim 50-pound computer plays nim- new yorker magazine talk town august subscription required hot game nim – nim theory connections with other games at cut-the-knot nim 2-dimensional supernim at cut-the-knot nim on nctm's illuminations nim excel excel spreadsheet using basic formulas determine best moves for start point mind nimmer - implementation nim for ios nim game good illustration necessity knowledge mastery when failure must not be risked however remote probability total loss may seem subtraction game subtraction game illustration on appstore retrieved from https//enwikipediaorg/w/indexphptitle=nim&oldid=751586282 categories mathematical games combinatorial game theory recreational mathematics hidden categories commons category with page title same on wikidata pages containing links subscription-only content articles containing proofs articles with example python code navigation menu personal tools not logged talk contributions create account log namespaces article talk variants views read edit view history more search navigation main page contents featured content current events random article donate wikipedia wikipedia store interaction help about wikipedia community portal recent changes contact page tools what links here related changes upload file special pages permanent link page information wikidata item cite this page print/export create book download pdf printable version other projects wikimedia commons languages català čeština deutsch español esperanto euskara فارسی français 한국어 italiano עברית magyar nederlands 日本語 norsk bokmål polski português русский sicilianu simple english suomi svenska ไทย türkçe 中文 edit links this page was last modified on november at text available under creative commons attribution-sharealike license additional terms may apply by using this site you agree terms use privacy policy wikipedia® registered trademark wikimedia foundation inc non-profit organization privacy policy about wikipedia disclaimers contact wikipedia developers cookie statement mobile view 